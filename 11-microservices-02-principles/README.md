# Домашнее задание к занятию "11.02 Микросервисы: принципы"

---
## Задача 1: API Gateway 

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:
- Маршрутизация запросов к нужному сервису на основе конфигурации
- Возможность проверки аутентификационной информации в запросах
- Обеспечение терминации HTTPS

Обоснуйте свой выбор.

### Ответ 1

| Решение | Маршрутизация запросов | Аутентификация при запросах | Терминация HTTPS | Модель распространения |
|:---:|:---:|:---:|:---:|:---:|
| APIGee | ✔ | ✔ | ✔ | Платная |
| Apache APISIX | ✔ | ✔ | ✔ | Опенсоурс |
| Axway | ✔ | ✔ | ✔ | Платная  |
| Kong | ✔ | ✔ | ✔ | Опенсоурс |
| Tyk | ✔ | ✔ | ✔ | Опенсоурс |
| NGINX Plus | ✔ | ✔ | ✔ | Платная |
| Gravitee.io | ✔ | ✔ | ✔ | Опенсоурс |

 - Можно использовать любое из указанных решений, но всё зависит от финансовой стороны вопроса.

 - Так же у больших облачных платформ присутствуют свои API Gateway решения, начиная с Амазона заканчивая Яндексом соответственно при использовании того или иного облака можно рассмотреть предложенные ими варианты.

 - Как я заметил в большинстве статей видимо из за популярности предлагают использовать API Gateway Kong. А чем популярнее решение тем легче его использовать.

## Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- Поддержка кластеризации для обеспечения надежности
- Хранение сообщений на диске в процессе доставки
- Высокая скорость работы
- Поддержка различных форматов сообщений
- Разделение прав доступа к различным потокам сообщений
- Простота эксплуатации

Обоснуйте свой выбор.

### Ответ 2

| Возможности | Apache Kafka | RabbitMQ | Redis | ActiveMQ |
|:---:|:---:|:---:|:---:|:---:
| Поддержка кластеризации для обеспечения надежности | ✔ | ✔ | ✔ | ✔ |
| Хранение сообщений на диске в процессе доставки | ✔ | ✔ | ✔ | ✔ |
| Высокая скорость работы | ✔ | ✔ | ✔ | ✖ |
| Поддержка различных форматов сообщений | BINARY on TCP | STOMP/AMQP/MQTT |  RESP | AMQP//MQTT/RESP и пр. |
| Разделение прав доступа к различным потокам сообщений | ✔ | ✔ | ✔ | ✔ |
| Простота эксплуатации | ✖ | ✔ | ✔ | ✔ |


 - Как и в предыдущем задании, из за распространённости и частоты использования можно выбрать брокер сообщений RabbitMQ, он менее сложен в эксплуатации чем Apache Kafka и поддерживает несколько форматов сообщений.
